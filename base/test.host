
var tests list!

fnm addTest(name code&)
    ; todo create test
    ; todo add test to list
export addTest


fn runTests(tests? force=false)
    if(not tests)
        GET "/host/tests" 
        >>> set tests
    elif(not(isList tests))
        set tests : list tests

    each tests testUrl
        log testUrl
        try
            require testUrl force
            + "Finished Test: " testUrl
        catch(e)
            list 
                + "ERROR running tests: " testUrl
                e
            ;break!
        >> log
    
    >> order t 
        if(isList t) -1 
        else
            t.match re/\d+/ >> first
            if(_ != null) : >> toInt
            else t

export runTests